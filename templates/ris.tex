%! Copyright (C) 2014 The Patacrep team (www.patacrep.com)
%!
%! This program is free software; you can redistribute it and/or
%! modify it under the terms of the GNU General Public License
%! as published by the Free Software Foundation; either version 2
%! of the License, or (at your option) any later version.
%!
%! This program is distributed in the hope that it will be useful,
%! but WITHOUT ANY WARRANTY; without even the implied warranty of
%! MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%! GNU General Public License for more details.
%!
%! You should have received a copy of the GNU General Public License
%! along with this program; if not, write to the Free Software
%! Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
%! MA  02110-1301, USA.
%!
%! The latest version of this program can be obtained from
%! https://github.com/patacrep/


(* variables *)
{
"subtitle": {"description": {"english": "Subtitle", "french": "Sous-titre"},
            "default": {"default": ""}
            },
"picture": {"description": {"english": "Cover picture", "french": "Image de couverture"},
            "type": "file",
            "default": {"default": "treble_a"}
         },
"footer": {"description": {"english": "Footer", "french": "Pied de page"},
           "default": {"default": "Generated using Songbook (\\url{http://www.patacrep.com})"}
        },
"songnumberbgcolor": {"description": {"english": "Number Shade", "french": "Couleur des numéros"},
                     "type": "color",
                     "default": {"default": "DEDEDE"}
                  },
"notebgcolor": {"description": {"english": "Note Shade", "french": "Couleur des notes"},
               "type": "color",
               "default": {"default": "FFFFFF"}
            },
"indexbgcolor": {"description": {"english": "Index Shade", "french": "Couleur d'index"},
               "type": "color",
               "default": {"default": "DEDEDE"}
            },
"titleprefixwords": {"description": {"english": "Ignore some words in the beginning of song titles",
                                     "french": "Ignore des mots dans le classement des chansons"},
                     "default": {"default": []}
                     }
}
(* endvariables *)

(* extends "default.tex" *)
(* block index *)
    \showindex{\songindexname}{titleidx}
(* endblock *)

(* block chords *)
    
(* endblock *)

(* block title *)
    \begin{titlepage}
    \begin{center}
    \raisebox{-0.5\totalheight}[\totalheight]{\raisebox{\depth}{
        \includegraphics[width=0.2\textwidth]{((picture))}
    }}
    \raisebox{-0.5\totalheight}[\totalheight]{\raisebox{\depth}{
        \begin{minipage}[t]{.49\textwidth}
            \centering
            \Huge \bfseries Carnet de chant\\[0.5cm]
            \small Scouts et Guides de France de Ris-Orangis\\[0.5cm]
            \begin{flushright} 
                \small \today
            \end{flushright}
        \end{minipage}
    }}
    \end{center}
    \end{titlepage}
    \newpage
    \null
    \newpage
(* endblock *)

(* block songbookpackages *)
%! booktype, bookoptions and instruments are defined in "songs.tex"
\usepackage[((booktype)),
            (* for option in bookoptions *)((option)),
            (* endfor *)
            (* for instrument in instruments *)((instrument)),
            (* endfor *)]{crepbook}
(* endblock *)

(* block songbookpreambule *)
   \usepackage{MyriadPro}
   \renewcommand{\familydefault}{\sfdefault}
   \usepackage[
     a5paper % paper size
     ,hmarginratio=1:1 % ratio between inner and outer margin (default)
     ,outer=1.8cm % outer margin (right)
     ,vmarginratio=1:1 % ratio between top and bottom margin
     ,bmargin=1.3cm % bottom margin
     ,landscape
     ]{geometry}

  (( super() ))
   \pagestyle{empty}

   \definecolor{SongNumberBgColor}{HTML}{((songnumberbgcolor))}
   \definecolor{NoteBgColor}{HTML}{((notebgcolor))}
   \definecolor{IndexBgColor}{HTML}{((indexbgcolor))}

   \renewcommand{\snumbgcolor}{SongNumberBgColor}
   \renewcommand{\notebgcolor}{NoteBgColor}
   \renewcommand{\idxbgcolor}{IndexBgColor}
   % Alléger l'apparence du refrain
   \renewcommand{\everychorus}{\textbf{\bf Refrain :}}
   \setlength{\cbarwidth}{0pt}
   % N'afficher que le titre et auteur
   \renewcommand{\extendprelude}{
      \showrefs\showauthors
   }
   \setlength{\sbarheight}{0pt}

  \usepackage[bookmarks,
                  bookmarksopen,
                  hyperfigures=true,
                  colorlinks=true,
                  linkcolor=black,
                  urlcolor=black]{hyperref}

   \subtitle{((date))}
   \picture{((picture))}
   \footer{((footer))}
(* endblock *)
